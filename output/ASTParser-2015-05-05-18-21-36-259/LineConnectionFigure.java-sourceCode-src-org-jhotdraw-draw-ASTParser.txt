/* * @ # Bezier Bezier Line Connection 1 0 1 2006-02-06 * * Copyright 1996-2006 by the original authors of Jhotdraw * and all its contributors Jhotdraw org * All rights reserved * * This software the confidential and proprietary information of * Jhotdraw org Confidential Information You shall not disclose * such Confidential Information and shall use it only accordance * with the terms of the license agreement you entered into with * Jhotdraw org */ // The commented lines below must stay commented out // This because we must not set our connectors to // order to support reconnection using redo /* if evt get Figure == owner get Start Figure || evt get Figure == owner get End Figure { owner set Start Connector owner set End Connector }*/ // R A W I N G // S H A P E A N B O U N S // make sure that we are still connected // A T T R I B U T E S // E I T I N G // C O N N E C T I N G // C O M P O S I T E F I G U R E S // L A Y O U T /* Liner get Bezier Path Layouter { Liner get Attribute BEZIER_PATH_LAYOUTER } set Bezier Path Layouter Liner new Value { set Attribute BEZIER_PATH_LAYOUTER new Value } /** * Lays out the connection This called when the connection * itself changes By default the connection recalculated * / layout Connection { if get Start Connector != get End Connector != { will Change Liner bpl = get Bezier Path Layouter if bpl != { bpl lineout this } else { if get Start Connector != { Point2 start = get Start Connector find Start this if start != { basic Set Start Point start } } if get End Connector != { Point2 = get End Connector find End this if != { basic Set End Point } } } changed } } */ // C L O N I N G // E V E N T H A N L I N G /* if get Start Connector != get End Connector != { handle Connect get Start Figure get End Figure }*/ /* set Start Connector set End Connector /* if get Start Connector != get End Connector != { handle Disconnect get Start Figure get End Figure }*/ // That shares the same connectors that this has // To work properly that must be registered figure listener // to the connected figures // P E R S I S T E N C E /* basic Set Point index Point2 { if index != 0 index != get Point Count - 1 { if get Start Connector != { Point2 start = get Start Connector find Start this if start != { basic Set Start Point start } } if get End Connector != { Point2 = get End Connector find End this if != { basic Set End Point } } } super basic Set Point index } */ 